{"EDITOR_STATE":{"allProjectFiles":{"07144640-ae12-402e-9e73-2bcbd47d724f":{"id":"07144640-ae12-402e-9e73-2bcbd47d724f","parent":null,"name":"TestCloudSQLRunQuery","type":"DIRECTORY","isDirectory":true,"children":["aff378be-ff88-42ef-9429-65d5e96b0cde","fe8c139c-0bd0-469a-bfe1-9e1efe895e10"],"isRemovable":false,"filePath":"TestCloudSQLRunQuery"},"aff378be-ff88-42ef-9429-65d5e96b0cde":{"id":"aff378be-ff88-42ef-9429-65d5e96b0cde","parent":"07144640-ae12-402e-9e73-2bcbd47d724f","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestCloudSQLRunQuery/lambda.js","code":"let AWS = require('aws-sdk');\nlet SL_GCP = require('slappforge-sdk-gcp');\nlet sqlConnMgr = require('./SqlConnMgr');\nconst sql = new SL_GCP.SQL(sqlConnMgr);\n\nexports.handler = function (event, context, callback) {\n    // You can pass the existing connection to this function.\n    // A new connection will be created if it's not present as the third param.\n    // You must always end/destroy the DB connection after it's used.\n    sql.query({\n        instanceIdentifier: 'test-instance-1',\n        query: 'SHOW TABLES;',\n        inserts: []\n    }, function (error, results, connection) {\n        if (error) {\n            throw error;\n        } else {\n            // use `results` to do your magic\n            console.log(results);\n        }\n        connection.end();\n    });\n\n\n\n    callback(null, 'Successfully executed');\n\n\n}","triggers":[{"resourceName":"apigusEast1TestGCPSQLTestRunQueryany","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"},"testCases":{"6bee41cc-79fe-403d-8027-15919d42651e":{"id":"6bee41cc-79fe-403d-8027-15919d42651e","name":"Unnamed event","functionId":"aff378be-ff88-42ef-9429-65d5e96b0cde","event":"{\n    \"key1\": \"value1\",\n    \"key2\": \"value2\",\n    \"key3\": \"value3\"\n}"}}},"fe8c139c-0bd0-469a-bfe1-9e1efe895e10":{"id":"fe8c139c-0bd0-469a-bfe1-9e1efe895e10","parent":"07144640-ae12-402e-9e73-2bcbd47d724f","name":"SqlConnMgr.js","type":"JS_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestCloudSQLRunQuery/SqlConnMgr.js","code":"module.exports = function() {\n    this.dbConnections = [];\n\n    this.dbConnections[\"test-instance-1\"] = {\n        host: \"104.196.65.143\",\n        port: \"3306\",\n        user: \"user1\",\n        password: process.env.Password_sqltestInstance1,\n        database: \"mysql\"\n    };\n    \n};","triggers":[]}},"rootNode":"07144640-ae12-402e-9e73-2bcbd47d724f","openFiles":["aff378be-ff88-42ef-9429-65d5e96b0cde","fe8c139c-0bd0-469a-bfe1-9e1efe895e10"],"currentFileId":"aff378be-ff88-42ef-9429-65d5e96b0cde","resources":{"apigusEast1TestGCPSQLTestRunQueryany":{"name":"apigusEast1TestGCPSQLTestRunQueryany","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"TestGCPSQL","endpointType":"EDGE","resourceMode":0,"resourceName":"TestRunQuery","resourcePath":"/TestRunQuery","restMethod":"ANY","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"test"},"globallyEditable":true},"sqltestInstance1":{"name":"sqltestInstance1","type":"SQL","config":{"mode":1,"instance":{"name":"test-instance-1","host":"104.196.65.143","port":3306,"user":"user1","password":"Test@123","database":"mysql"}},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"editable":false},{"lambdaId":"all","varKey":"GCLOUD_SERVICE_TOKEN","varValue":null,"shouldPersist":false,"editable":true},{"lambdaId":"all","varKey":"GCLOUD_PROJECT_ID","varValue":null,"shouldPersist":false,"editable":true},{"lambdaId":"aff378be-ff88-42ef-9429-65d5e96b0cde","varKey":"Password_sqltestInstance1","varValue":null,"shouldPersist":false,"editable":true}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"slappforge-sdk-gcp":{"name":"slappforge-sdk-gcp","version":"0.0.1","notRemovable":false}}},"lambdaId":"aff378be-ff88-42ef-9429-65d5e96b0cde","additionalFiles":[]},"PROJECT_META":{"projectName":"TestCloudSQLRunQuery","projectDescription":"Test Run Query","projectVersion":"1.0.0","projectRegion":"us-east-1","repoName":"test","repoUrl":"https://github.com/Kumudikatest/test","lastSave":1529914823330},"VCS_STATE":{"provider":"GITHUB","repo":{"name":"TestCloudSQLRunQuery","url":"https://github.com/Kumudikatest/TestCloudSQLRunQuery"}}}